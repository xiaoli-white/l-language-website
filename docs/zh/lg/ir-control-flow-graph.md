# IRControlFlowGraph

## 概述

IRControlFlowGraph（控制流图）是 LG IR 模块中用于表示程序控制流的组件。它描述了程序执行路径的结构，是函数体的内部表示形式。

## 结构

控制流图由以下主要部分组成：

1. **基本块（BasicBlock）集合** - 控制流图的基本组成单元
2. **入口基本块** - 程序开始执行的基本块
3. **出口基本块** - 程序结束执行的基本块

### 基本块（BasicBlock）

基本块是控制流图的基本组成单元，具有以下特点：
- 只有一个入口点（第一条指令）
- 只有一个出口点（最后一条指令）
- 内部指令顺序执行
- 通过跳转指令与其他基本块连接

每个基本块包含：
- **指令列表** - 该基本块中的所有指令
- **前驱节点** - 可以跳转到当前基本块的其他基本块
- **后继节点** - 当前基本块可以跳转到的其他基本块

## 功能

### 控制流表示

控制流图清晰地表示了程序的执行路径，包括：
- 顺序执行
- 条件分支
- 循环结构
- 函数调用返回

### 数据流分析

控制流图是进行数据流分析的基础，支持：
- 到达定义分析
- 活跃变量分析
- 可用表达式分析

### 优化支持

控制流图为各种编译优化提供了基础结构：
- 死代码消除
- 循环优化
- 基本块合并
- 控制流简化

## 使用场景

### 函数表示

每个 IRFunction 都包含一个控制流图，表示函数体的执行逻辑。

### 优化过程

优化器在控制流图上进行各种优化操作。

### 代码生成

代码生成器遍历控制流图生成目标代码。

## 相关组件

- [IRFunction](/lg/ir-function) - 包含控制流图的函数
- [IRInstruction](/lg/ir-instruction) - 基本块中的指令